webpackJsonp([1],{"6QCr":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("7+uW"),r=a("mvHQ"),s=a.n(r),i={name:"App",data:function(){return{cep:"",endereco:{},enderecos:[],erros:[],indice:-1}},methods:{deleteEnd:function(e){this.enderecos.splice(this.enderecos.indexOf(e),1)},abrirModal:function(e){this.indice=this.enderecos.indexOf(e),this.erros=[],$("#inputCep").val(e.cep),$("#inputLogradouro").val(e.logradouro),$("#inputNumero").val(e.numero),$("#inputComplemento").val(e.complemento),$("#inputBairro").val(e.bairro),$("#inputCidade").val(e.localidade),$("#inputEstado").val(e.uf),$("#modalEditar").modal("show")},atualizar:function(e){$("#inputCep").val()&&$("#inputLogradouro").val()&&$("#inputNumero").val()&&$("#inputBairro").val()&&$("#inputCidade").val()&&$("#inputEstado").val()?(this.endereco.cep=$("#inputCep").val(),this.endereco.logradouro=$("#inputLogradouro").val(),this.endereco.numero=$("#inputNumero").val(),this.endereco.complemento=$("#inputComplemento").val(),this.endereco.bairro=$("#inputBairro").val(),this.endereco.localidade=$("#inputCidade").val(),this.endereco.uf=$("#inputEstado").val(),this.enderecos.splice(this.indice,1,this.endereco)):(this.erros=[],$("#inputCep").val()?/^[0-9]{5}-[0-9]{3}$/.test($("#inputCep").val())||this.erros.push("Preencha o CEP com 8 dígitos. Formato: 00000-000."):this.erros.push("Preencha o CEP."),$("#inputLogradouro").val()||this.erros.push("Preencha o Logradoudo."),$("#inputNumero").val()||this.erros.push("Preencha o Número."),$("#inputBairro").val()||this.erros.push("Preencha o Bairro."),$("#inputCidade").val()||this.erros.push("Preencha a Cidade."),$("#inputEstado").val()||this.erros.push("Preencha o Estado."),e.preventDefault())}},mounted:function(){console.log("App mounted!"),localStorage.getItem("enderecos")&&(this.enderecos=JSON.parse(localStorage.getItem("enderecos")))},watch:{enderecos:{handler:function(){console.log("Enderecos changed!"),localStorage.setItem("enderecos",s()(this.enderecos))},deep:!0}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"enderecosView"}},[a("div",[a("h1",{staticClass:"page-header"},[e._v("Lista de Endereços")]),e._v(" "),e.enderecos.length>0?a("table",{staticClass:"table table-striped table-sm"},[e._m(0),e._v(" "),a("tbody",e._l(e.enderecos,function(t){return a("tr",[a("td",[e._v(e._s(t.logradouro))]),e._v(" "),a("td",[e._v(e._s(t.numero))]),e._v(" "),a("td",[e._v(e._s(t.complemento))]),e._v(" "),a("td",[e._v(e._s(t.bairro))]),e._v(" "),a("td",[e._v(e._s(t.localidade))]),e._v(" "),a("td",[e._v(e._s(t.uf))]),e._v(" "),a("td",[e._v(e._s(t.cep))]),e._v(" "),a("td",[a("button",{staticClass:"btn btn-secondary btn-sm",attrs:{"data-toggle":"modal"},on:{click:function(a){e.abrirModal(t)}}},[e._v("Editar")])]),e._v(" "),a("td",[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){e.deleteEnd(t)}}},[e._v("Remover")])])])}))]):a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("\n      Não existem endereços cadastrados. Clique em "),a("router-link",{attrs:{to:"/cadastro"}},[e._v("Cadastrar Endereço")]),e._v(" para adicionar um novo endereço.\n    ")],1)]),e._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modalEditar",tabindex:"-1",role:"dialog","aria-labelledby":"modalTitulo","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("form",{staticClass:"col-md-12",on:{submit:e.atualizar}},[e._m(1),e._v(" "),a("div",{staticClass:"modal-body"},[e.erros.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("b",[e._v("Por favor corrija os erros a seguir:")]),e._v(" "),a("br"),a("br"),e._v(" "),a("ul",e._l(e.erros,function(t){return a("li",[e._v(e._s(t))])}))]):e._e(),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputCep"}},[e._v("CEP")]),e._v(" "),a("input",{directives:[{name:"mask",rawName:"v-mask",value:"#####-###",expression:"'#####-###'"}],staticClass:"form-control",attrs:{disabled:"",id:"inputCep",type:"tel"}})])])]),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4)]),e._v(" "),e._m(5)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Logradouro")]),e._v(" "),a("th",[e._v("Número")]),e._v(" "),a("th",[e._v("Complemento")]),e._v(" "),a("th",[e._v("Bairro")]),e._v(" "),a("th",[e._v("Cidade")]),e._v(" "),a("th",[e._v("UF")]),e._v(" "),a("th",[e._v("CEP")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title",attrs:{id:"modalTitulo"}},[this._v("Editar Endereço")]),this._v(" "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"inputLogradouro"}},[this._v("Logradouro")]),this._v(" "),t("input",{staticClass:"form-control",attrs:{id:"inputLogradouro",type:"text"}})])]),this._v(" "),t("div",{staticClass:"col-md-2"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"inputNumero"}},[this._v("Número")]),this._v(" "),t("input",{staticClass:"form-control",attrs:{id:"inputNumero",type:"tel"}})])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"inputComplemento"}},[this._v("Complemento")]),this._v(" "),t("input",{staticClass:"form-control",attrs:{id:"inputComplemento",type:"text"}})])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputBairro"}},[e._v("Bairro")]),e._v(" "),a("input",{staticClass:"form-control",attrs:{id:"inputBairro",type:"text"}})])]),e._v(" "),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputCidade"}},[e._v("Cidade")]),e._v(" "),a("input",{staticClass:"form-control",attrs:{id:"inputCidade",type:"text"}})])]),e._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputEstado"}},[e._v("Estado")]),e._v(" "),a("input",{staticClass:"form-control",attrs:{id:"inputEstado",type:"text",maxlength:"2"}})])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Fechar")]),this._v(" "),t("button",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Salvar"}},[this._v("Salvar")])])}]};var l=a("VU/8")(i,n,!1,function(e){a("kxDj")},"data-v-68d91a0a",null).exports,d=a("/ocq"),c=a("hlPV"),u=a.n(c),v={name:"Cadastro",data:function(){return{cep:"",endereco:{},enderecos:[],naoEncontrado:!1,erros:[]}},methods:{registrar:function(e){this.cep&&this.endereco.logradouro&&this.endereco.numero&&this.endereco.bairro&&this.endereco.localidade&&this.endereco.uf?(this.enderecos.push(this.endereco),localStorage.setItem("enderecos",s()(this.enderecos)),console.log("New Address"),this.$router.push({path:"/"})):(this.erros=[],this.cep?/^[0-9]{5}-[0-9]{3}$/.test(this.cep)||this.erros.push("Preencha o CEP com 8 dígitos. Formato: 00000-000."):this.erros.push("Preencha o CEP."),this.endereco.logradouro||this.erros.push("Preencha o Logradoudo."),this.endereco.numero||this.erros.push("Preencha o Número."),this.endereco.bairro||this.erros.push("Preencha o Bairro."),this.endereco.localidade||this.erros.push("Preencha a Cidade."),this.endereco.uf||this.erros.push("Preencha o Estado."),e.preventDefault())},buscar:function(){var e=this;if(e.naoLocalizado=!1,/^[0-9]{5}-[0-9]{3}$/.test(this.cep)){var t=this.cep;$.getJSON("https://viacep.com.br/ws/"+this.cep+"/json/",function(a){if(a.erro)return e.endereco={},e.endereco.cep=t,$("#inputLogradouro").focus(),void(e.naoEncontrado=!0);e.endereco=a,console.log(a),$("#inputNumero").focus()})}}},mounted:function(){console.log("App mounted!"),localStorage.getItem("enderecos")&&(this.enderecos=JSON.parse(localStorage.getItem("enderecos")))}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"enderecosAdd"}},[a("div",{staticClass:"row show-grid"},[a("form",{staticClass:"col-md-12",on:{submit:e.registrar}},[a("h1",{staticClass:"page-header"},[e._v("Cadastro de Endereço")]),e._v(" "),e.erros.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("b",[e._v("Por favor corrija os erros a seguir:")]),e._v(" "),a("br"),a("br"),e._v(" "),a("ul",e._l(e.erros,function(t){return a("li",[e._v(e._s(t))])}))]):e._e(),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputCep"}},[e._v("CEP")]),e._v(" "),a("input",{directives:[{name:"mask",rawName:"v-mask",value:"#####-###",expression:"'#####-###'"},{name:"model",rawName:"v-model",value:e.cep,expression:"cep"}],staticClass:"form-control",attrs:{id:"inputCep",type:"tel"},domProps:{value:e.cep},on:{keyup:e.buscar,input:function(t){t.target.composing||(e.cep=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-md-3"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.naoEncontrado,expression:"naoEncontrado"}],staticClass:"text-danger"},[a("strong",[e._v("* CEP não encontrado")])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputLogradouro"}},[e._v("Logradouro")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.logradouro,expression:"endereco.logradouro"}],staticClass:"form-control",attrs:{id:"inputLogradouro",type:"text"},domProps:{value:e.endereco.logradouro},on:{input:function(t){t.target.composing||e.$set(e.endereco,"logradouro",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputNumero"}},[e._v("Número")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.numero,expression:"endereco.numero"}],staticClass:"form-control",attrs:{id:"inputNumero",type:"tel"},domProps:{value:e.endereco.numero},on:{input:function(t){t.target.composing||e.$set(e.endereco,"numero",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputComplemento"}},[e._v("Complemento")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.complemento,expression:"endereco.complemento"}],staticClass:"form-control",attrs:{id:"inputComplemento",type:"text"},domProps:{value:e.endereco.complemento},on:{input:function(t){t.target.composing||e.$set(e.endereco,"complemento",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputBairro"}},[e._v("Bairro")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.bairro,expression:"endereco.bairro"}],staticClass:"form-control",attrs:{id:"inputBairro",type:"text"},domProps:{value:e.endereco.bairro},on:{input:function(t){t.target.composing||e.$set(e.endereco,"bairro",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputCidade"}},[e._v("Cidade")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.localidade,expression:"endereco.localidade"}],staticClass:"form-control",attrs:{id:"inputCidade",type:"text"},domProps:{value:e.endereco.localidade},on:{input:function(t){t.target.composing||e.$set(e.endereco,"localidade",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputEstado"}},[e._v("Estado")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.uf,expression:"endereco.uf"}],staticClass:"form-control",attrs:{id:"inputEstado",type:"text",maxlength:"2"},domProps:{value:e.endereco.uf},on:{input:function(t){t.target.composing||e.$set(e.endereco,"uf",t.target.value)}}})])])]),e._v(" "),e._m(0)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-2"},[t("div",{staticClass:"form-group"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Salvar"}},[this._v("Salvar")])])])])}]};var m=a("VU/8")(v,p,!1,function(e){a("6QCr")},"data-v-071ecf7e",null).exports;o.a.use(u.a),o.a.use(d.a);var h=new d.a({mode:"history",base:"/estante-challenge/",routes:[{path:"/",component:l},{path:"/cadastro",component:m}]});new o.a({el:"#app",router:h,template:'\n    <div id="app">\n      <nav class="navbar navbar-expand-md navbar-dark bg-dark">\n        <a class="navbar-brand" href="#">Catálogo de Endereços</a>\n        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">\n          <span class="navbar-toggler-icon"></span>\n        </button>\n        <div class="collapse navbar-collapse" id="navbarCollapse">\n          <ul class="navbar-nav mr-auto">\n            <li class="nav-item">\n              <router-link class="nav-link" to="/">Endereços</router-link>\n            </li>\n            <li class="nav-item">\n              <router-link class="nav-link" to="/cadastro">Cadastrar Endereço</router-link>\n            </li>\n          </ul>          \n        </div>\n      </nav>      \n      <router-view></router-view>\n    </div> \n  '}).$mount("#app")},kxDj:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c1c66a43c2e3976af21b.js.map